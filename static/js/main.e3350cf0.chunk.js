(this.webpackJsonpcovid=this.webpackJsonpcovid||[]).push([[0],{129:function(e,t,a){e.exports=a(406)},389:function(e,t,a){},406:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(19),s=a.n(c),i=a(21),o=a.n(i),l=a(128),u=a(42),m=a(11),d=a(12),h=a(13),v=a(14),p=function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.cases;return""==e.total?null:r.a.createElement("div",{className:"ui two statistics"},r.a.createElement("div",{className:"ui brown statistic"},r.a.createElement("div",{className:"value"},e.active),r.a.createElement("div",{className:"label"},"Active Cases")),r.a.createElement("div",{className:"ui yellow statistic"},r.a.createElement("div",{className:"value"},""!==e.today||0===e.today?e.today:"NA"),r.a.createElement("div",{className:"label"},"Cases Today")),r.a.createElement("div",{className:"ui green statistic"},r.a.createElement("div",{className:"value"},e.recover),r.a.createElement("div",{className:"label"},"Recovered")),r.a.createElement("div",{className:"ui red statistic"},r.a.createElement("div",{className:"value"},e.fatal),r.a.createElement("div",{className:"label"},"Fatal")))}}]),a}(r.a.Component),f=function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onCountrySelect=function(t){e.props.countrySelected(t)},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"item",onClick:function(t){return e.onCountrySelect({country:e.props.countryName.country,isVisible:!1})}},r.a.createElement("div",{className:"right floated content"},r.a.createElement("div",{className:"total-count"},this.props.countryName.total)),r.a.createElement("div",{className:"content"},this.props.countryName.country))}}]),a}(r.a.Component),y=function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onCountrySelect=function(e){n.props.countrySelect(e.country),n.setState({isBoxVisible:e.isVisible})},n.state={isBoxVisible:!1,total:e.statistics.total},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props.statistics.countryList.map((function(t){if(t)return r.a.createElement("div",{className:"item",key:t.country},r.a.createElement(f,{countrySelected:e.onCountrySelect,countryName:t}))}));return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"ui message",onClick:function(){return e.setState({isBoxVisible:!0})}},r.a.createElement("div",{className:"header"},this.props.statistics.selCountry?this.props.statistics.selCountry:"Global Status"),r.a.createElement("div",{className:"total-count-button"},r.a.createElement("span",{className:"count"},this.state.total),r.a.createElement("i",null,">"))),r.a.createElement("div",{className:"ui middle aligned divided list countries ".concat(this.state.isBoxVisible?"":"hidden")},r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"right floated content"},r.a.createElement("div",{className:"total-count close",onClick:function(){return e.setState({isBoxVisible:!1})}},"x")),r.a.createElement("div",{className:"content"},"Select a region")),t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{total:e.statistics.total}}}]),a}(r.a.Component),b=(a(133),function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).checkMode=function(t){e.props.theme(t)},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("header",null,r.a.createElement("h2",{className:"ui header"},"Covid-19 Tracker"),r.a.createElement("div",{className:"ui toggle checkbox"},r.a.createElement("input",{type:"checkbox",name:"public",onChange:function(t){return e.checkMode(t.target.checked)}}),r.a.createElement("label",null,"Dark Mode")))}}]),a}(r.a.Component)),E=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,"A project by Prannoy Arora"),r.a.createElement("div",{className:"accounts"},r.a.createElement("a",{href:"https://in.linkedin.com/in/prannoy-arora-01082846"},r.a.createElement("img",{src:"http://icons.iconarchive.com/icons/limav/flat-gradient-social/24/Linkedin-icon.png",alt:"linkedin",width:"24",height:"24"})),r.a.createElement("a",{href:"https://github.com/noyarora"},r.a.createElement("img",{src:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png",alt:"github",width:"24",height:"24"}))))},N=(a(389),a(41)),g=a.n(N),k=g.a.create({baseURL:"https://coronavirus-19-api.herokuapp.com"}),j=function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:this.props.feed.urlToImage})),r.a.createElement("div",{className:"content"},r.a.createElement("a",{href:this.props.feed.url,target:"_blank",className:"header"},this.props.feed.title),r.a.createElement("div",{className:"extra"},this.props.feed.author)))}}]),a}(r.a.Component),w=function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={total:"",active:"",recover:"",fatal:"",today:"",countryList:[],selCountry:"",articles:[],darkTheme:!1,showLoader:!0},e.componentDidMount=Object(u.a)(o.a.mark((function t(){var a,n,r,c,s,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.getGlobalStats(),t.next=3,g.a.get("https://ipapi.co/json/");case 3:return a=t.sent,e.updateStats(a.data.country_name),t.next=7,k.get("/countries");case 7:n=t.sent,r=n.data.filter((function(e){return"India"===e.country})),c=[{country:r[0].country,total:r[0].cases}],s=n.data.map((function(e){if("India"!==e.country)return{country:e.country,total:e.cases}})),i=[].concat(c,Object(l.a)(s)),e.setState({countryList:i});case 13:case"end":return t.stop()}}),t)}))),e.updateStats=function(){var t=Object(u.a)(o.a.mark((function t(a){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.get("/countries/"+a);case 2:n=t.sent,r=n.data,e.setState({total:r.cases,active:r.cases-r.recovered-r.deaths,recover:r.recovered,fatal:r.deaths,today:r.todayCases,selCountry:a,showLoader:!0}),e.getNews();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getNews=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("https://cors-anywhere.herokuapp.com/http://newsapi.org/v2/top-headlines?q=coronavirus "+e.state.selCountry+"&apiKey=048c336a18af41a4af76ba53e7a15efb").then((function(t){var a=t.data.articles.slice(0,5);e.setState({articles:a})}),(function(e){return console.log(e)}));case 2:e.setState({showLoader:!1});case 3:case"end":return t.stop()}}),t)}))),e.getGlobalStats=Object(u.a)(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.get("/all");case 2:a=t.sent,n=a.data,e.setState({total:n.cases,active:n.cases-n.recovered-n.deaths,recover:n.recovered,fatal:n.deaths,today:"",selCountry:"",showLoader:!0}),e.getNews();case 6:case"end":return t.stop()}}),t)}))),e.changeTheme=function(t){e.setState({darkTheme:t})},e}return Object(d.a)(a,[{key:"render",value:function(){var e=[];return this.state.articles.length>0&&(e=this.state.articles.map((function(e){return r.a.createElement("div",{key:e.title,className:"ui unstackable items"},r.a.createElement(j,{feed:e}))}))),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"ui raised very padded text container ".concat(this.state.darkTheme?"darkMode":"")},r.a.createElement(b,{theme:this.changeTheme}),r.a.createElement(y,{countrySelect:this.updateStats,statistics:this.state}),r.a.createElement("div",{className:"stats"},r.a.createElement(p,{cases:this.state})),r.a.createElement("button",{className:"mini ui button basic fluid",onClick:this.getGlobalStats},"Show Global Statistics"),r.a.createElement("p",{className:"note"},"Note: Data is updated through opensource api. Actual count may vary"),r.a.createElement("h4",{className:"ui horizontal divider header"},"News"),e.length>0?e:"No news found for selected region.",r.a.createElement("div",{className:"ui fitted divider"}),r.a.createElement(E,null),r.a.createElement("div",{className:"loader ".concat(this.state.showLoader?"":"hideLoader")},r.a.createElement("div",{className:"ui active centered inline loader"}))))}}]),a}(r.a.Component),O=function(){return r.a.createElement(w,null)};s.a.render(r.a.createElement(O,null),document.querySelector("#root"))}},[[129,1,2]]]);
//# sourceMappingURL=main.e3350cf0.chunk.js.map