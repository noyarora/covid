(this.webpackJsonpcovid=this.webpackJsonpcovid||[]).push([[0],{20:function(e,t,a){e.exports=a(44)},26:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),s=a.n(c),i=a(6),l=a.n(i),o=a(19),u=a(8),m=a(2),d=a(3),v=a(4),p=a(5),f=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.cases;return console.log(e),""==e.total?null:r.a.createElement("div",{className:"ui two statistics"},r.a.createElement("div",{className:"ui red statistic"},r.a.createElement("div",{className:"value"},e.active),r.a.createElement("div",{className:"label"},"Active Cases")),r.a.createElement("div",{className:"ui yellow statistic"},r.a.createElement("div",{className:"value"},""!=e.today&&e.today?e.today:"NA"),r.a.createElement("div",{className:"label"},"Cases Today")),r.a.createElement("div",{className:"ui green statistic"},r.a.createElement("div",{className:"value"},e.recover),r.a.createElement("div",{className:"label"},"Recovered")),r.a.createElement("div",{className:"ui statistic"},r.a.createElement("div",{className:"value"},e.fatal),r.a.createElement("div",{className:"label"},"Fatal")))}}]),a}(r.a.Component),y=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onCountrySelect=function(t){e.props.countrySelected(t)},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"item",onClick:function(t){return e.onCountrySelect({country:e.props.countryName.country,isVisible:!1})}},r.a.createElement("div",{className:"right floated content"},r.a.createElement("div",{className:"total-count"},this.props.countryName.total)),r.a.createElement("div",{className:"content"},this.props.countryName.country))}}]),a}(r.a.Component),h=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onCountrySelect=function(e){n.props.countrySelect(e.country),n.setState({isBoxVisible:e.isVisible})},n.state={isBoxVisible:!1,total:e.statistics.total},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props.statistics.countryList.map((function(t){if(t)return r.a.createElement("div",{className:"item",key:t.country},r.a.createElement(y,{countrySelected:e.onCountrySelect,countryName:t}))}));return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"ui message",onClick:function(){return e.setState({isBoxVisible:!0})}},r.a.createElement("div",{className:"header"},""!==this.props.statistics.selCountry?"Global Status":this.props.statistics.selCountry),r.a.createElement("div",null,r.a.createElement("span",{className:"count"},this.state.total),r.a.createElement("i",null,">"))),r.a.createElement("div",{className:"ui middle aligned divided list countries ".concat(this.state.isBoxVisible?"":"hidden")},r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"right floated content"},r.a.createElement("div",{className:"total-count close",onClick:function(){return e.setState({isBoxVisible:!1})}},"x")),r.a.createElement("div",{className:"content"},"\xa0")),t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{total:e.statistics.total}}}]),a}(r.a.Component),E=function(){return r.a.createElement("header",null,r.a.createElement("h2",{className:"ui header"},"Patrick"))},b=(a(26),a(7)),N=a.n(b),g=N.a.create({baseURL:"https://coronavirus-19-api.herokuapp.com"}),j=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{class:"item"},r.a.createElement("div",{class:"image"},r.a.createElement("img",{src:this.props.feed.urlToImage})),r.a.createElement("div",{class:"content"},r.a.createElement("a",{href:this.props.feed.url,target:"_blank",class:"header"},this.props.feed.title)))}}]),a}(r.a.Component),O=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={total:"",active:"",recover:"",fatal:"",today:"",countryList:[],selCountry:"",articles:[]},e.componentDidMount=Object(u.a)(l.a.mark((function t(){var a,n,r,c,s,i,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.get("/all");case 2:return a=t.sent,n=a.data,e.setState({total:n.cases,active:n.cases-n.recovered-n.deaths,recover:n.recovered,fatal:n.deaths}),t.next=7,g.get("/countries");case 7:r=t.sent,c=r.data.filter((function(e){return"India"===e.country})),s=[{country:c[0].country,total:c[0].cases}],i=r.data.map((function(e){if("India"!==e.country)return{country:e.country,total:e.cases}})),u=[].concat(s,Object(o.a)(i)),e.setState({countryList:u});case 13:case"end":return t.stop()}}),t)}))),e.updateStats=function(){var t=Object(u.a)(l.a.mark((function t(a){var n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.get("/countries/"+a);case 2:n=t.sent,r=n.data,e.setState({total:r.cases,active:r.cases-r.recovered-r.deaths,recover:r.recovered,fatal:r.deaths,today:r.todayCases,selCountry:a}),e.getNews();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getNews=Object(u.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.get("http://newsapi.org/v2/everything?q=coronavirus "+e.state.selCountry+"&apiKey=048c336a18af41a4af76ba53e7a15efb");case 2:a=t.sent,n=a.data.articles.slice(0,5),e.setState({articles:n}),console.log(n);case 6:case"end":return t.stop()}}),t)}))),e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state.articles.map((function(e){return r.a.createElement("div",{key:e.title,class:"ui unstackable items"},r.a.createElement(j,{feed:e}))})),t=e.length>0?r.a.createElement("h2",null,"News"):"";return r.a.createElement("div",{className:"ui raised very padded text container"},r.a.createElement(E,null),r.a.createElement(h,{countrySelect:this.updateStats,statistics:this.state}),r.a.createElement("div",{className:"stats"},r.a.createElement(f,{cases:this.state})),t,e)}}]),a}(r.a.Component),k=function(){return r.a.createElement(O,null)};s.a.render(r.a.createElement(k,null),document.querySelector("#root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.38e9b3e9.chunk.js.map