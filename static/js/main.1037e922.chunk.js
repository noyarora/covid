(this.webpackJsonpcovid=this.webpackJsonpcovid||[]).push([[0],{129:function(e,t,a){e.exports=a(406)},389:function(e,t,a){},406:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(19),s=a.n(r),i=a(21),o=a.n(i),l=a(128),u=a(42),m=a(11),d=a(12),h=a(13),v=a(14),p=function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.cases;return""==e.total?null:c.a.createElement("div",{className:"ui two statistics"},c.a.createElement("div",{className:"ui brown statistic"},c.a.createElement("div",{className:"value"},e.active),c.a.createElement("div",{className:"label"},"Active Cases")),c.a.createElement("div",{className:"ui yellow statistic"},c.a.createElement("div",{className:"value"},""!==e.today||0===e.today?e.today:"NA"),c.a.createElement("div",{className:"label"},"Cases Today")),c.a.createElement("div",{className:"ui green statistic"},c.a.createElement("div",{className:"value"},e.recover),c.a.createElement("div",{className:"label"},"Recovered")),c.a.createElement("div",{className:"ui red statistic"},c.a.createElement("div",{className:"value"},e.fatal),c.a.createElement("div",{className:"label"},"Fatal")))}}]),a}(c.a.Component),f=function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).onCountrySelect=function(t){e.props.countrySelected(t)},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"item",onClick:function(t){return e.onCountrySelect({country:e.props.countryName.country,isVisible:!1})}},c.a.createElement("div",{className:"right floated content"},c.a.createElement("div",{className:"total-count"},this.props.countryName.total)),c.a.createElement("div",{className:"content"},this.props.countryName.country))}}]),a}(c.a.Component),y=function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onCountrySelect=function(e){n.props.countrySelect(e.country),n.setState({isBoxVisible:e.isVisible})},n.state={isBoxVisible:!1,total:e.statistics.total},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props.statistics.countryList.map((function(t){if(t)return c.a.createElement("div",{className:"item",key:t.country},c.a.createElement(f,{countrySelected:e.onCountrySelect,countryName:t}))}));return c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"ui message",onClick:function(){return e.setState({isBoxVisible:!0})}},c.a.createElement("div",{className:"header"},this.props.statistics.selCountry?this.props.statistics.selCountry:"Global Status"),c.a.createElement("div",{className:"total-count-button"},c.a.createElement("span",{className:"count"},this.state.total),c.a.createElement("i",null,">"))),c.a.createElement("div",{className:"ui middle aligned divided list countries ".concat(this.state.isBoxVisible?"":"hidden")},c.a.createElement("div",{className:"item"},c.a.createElement("div",{className:"right floated content"},c.a.createElement("div",{className:"total-count close",onClick:function(){return e.setState({isBoxVisible:!1})}},"x")),c.a.createElement("div",{className:"content"},"Select a region")),t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{total:e.statistics.total}}}]),a}(c.a.Component),b=(a(133),function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).checkMode=function(t){e.props.theme(t)},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("header",null,c.a.createElement("h2",{className:"ui header"},"Covid-19 Tracker"),c.a.createElement("div",{className:"ui toggle checkbox"},c.a.createElement("input",{type:"checkbox",name:"public",onChange:function(t){return e.checkMode(t.target.checked)}}),c.a.createElement("label",null,"Dark Mode")))}}]),a}(c.a.Component)),E=function(){return c.a.createElement("div",{className:"footer"},c.a.createElement("p",null,"A project by Prannoy Arora"),c.a.createElement("div",{className:"accounts"},c.a.createElement("a",{href:"https://in.linkedin.com/in/prannoy-arora-01082846"},c.a.createElement("img",{src:"http://icons.iconarchive.com/icons/limav/flat-gradient-social/24/Linkedin-icon.png",alt:"linkedin",width:"24",height:"24"})),c.a.createElement("a",{href:"https://github.com/noyarora"},c.a.createElement("img",{src:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png",alt:"github",width:"24",height:"24"}))))},N=(a(389),a(41)),g=a.n(N),k=g.a.create({baseURL:"https://coronavirus-19-api.herokuapp.com"}),w=function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"item"},c.a.createElement("div",{className:"image"},c.a.createElement("img",{src:this.props.feed.urlToImage})),c.a.createElement("div",{className:"content"},c.a.createElement("a",{href:this.props.feed.url,target:"_blank",className:"header"},this.props.feed.title),c.a.createElement("div",{className:"extra"},this.props.feed.author)))}}]),a}(c.a.Component),j=function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={total:"",active:"",recover:"",fatal:"",today:"",countryList:[],selCountry:"",articles:[],darkTheme:!1,showLoader:!0},e.componentDidMount=Object(u.a)(o.a.mark((function t(){var a,n,c,r,s,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.getGlobalStats(),t.next=3,g.a.get("https://ipapi.co/json/");case 3:return a=t.sent,e.updateStats(a.data.country_name),t.next=7,k.get("/countries");case 7:n=t.sent,c=n.data.filter((function(e){return"India"===e.country})),r=[{country:c[0].country,total:c[0].cases}],s=n.data.map((function(e){if("India"!==e.country)return{country:e.country,total:e.cases}})),i=[].concat(r,Object(l.a)(s)),e.setState({countryList:i});case 13:case"end":return t.stop()}}),t)}))),e.updateStats=function(){var t=Object(u.a)(o.a.mark((function t(a){var n,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.get("/countries/"+a);case 2:n=t.sent,c=n.data,e.setState({total:c.cases,active:c.cases-c.recovered-c.deaths,recover:c.recovered,fatal:c.deaths,today:c.todayCases,selCountry:a,showLoader:!0}),e.getNews();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getNews=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("https://cors-anywhere.herokuapp.com/http://newsapi.org/v2/everything?q=coronavirus "+e.state.selCountry+"&apiKey=048c336a18af41a4af76ba53e7a15efb").then((function(t){var a=t.data.articles.slice(0,5);e.setState({articles:a})}),(function(e){return console.log(e)}));case 2:e.setState({showLoader:!1});case 3:case"end":return t.stop()}}),t)}))),e.getGlobalStats=Object(u.a)(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.get("/all");case 2:a=t.sent,n=a.data,e.setState({total:n.cases,active:n.cases-n.recovered-n.deaths,recover:n.recovered,fatal:n.deaths,today:"",selCountry:"",showLoader:!0}),e.getNews();case 6:case"end":return t.stop()}}),t)}))),e.changeTheme=function(t){e.setState({darkTheme:t})},e}return Object(d.a)(a,[{key:"render",value:function(){var e=[];return this.state.articles.length>0&&(e=this.state.articles.map((function(e){return c.a.createElement("div",{key:e.title,className:"ui unstackable items"},c.a.createElement(w,{feed:e}))}))),c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"ui raised very padded text container ".concat(this.state.darkTheme?"darkMode":"")},c.a.createElement(b,{theme:this.changeTheme}),c.a.createElement("div",{className:"ui two column doubling stackable grid"},c.a.createElement("div",{className:"column"},c.a.createElement(y,{countrySelect:this.updateStats,statistics:this.state}),c.a.createElement("div",{className:"stats"},c.a.createElement(p,{cases:this.state})),c.a.createElement("button",{className:"ui button basic",onClick:this.getGlobalStats},"Show Global Statistics"),c.a.createElement("p",{className:"note"},"Note: Data is updated through opensource api. Actual count may vary")),c.a.createElement("div",{className:"column"},c.a.createElement("h4",{className:"ui horizontal divider header"},"News"),e.length>0?e:c.a.createElement("div",{className:"no-news"},"No news found for selected region."),c.a.createElement("div",{className:"ui fitted divider"}))),c.a.createElement(E,null),c.a.createElement("div",{className:"loader ".concat(this.state.showLoader?"":"hideLoader")},c.a.createElement("div",{className:"ui active centered inline loader"}))))}}]),a}(c.a.Component),O=function(){return c.a.createElement(j,null)};s.a.render(c.a.createElement(O,null),document.querySelector("#root"))}},[[129,1,2]]]);
//# sourceMappingURL=main.1037e922.chunk.js.map