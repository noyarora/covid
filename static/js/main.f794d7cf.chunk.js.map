{"version":3,"sources":["component/Cards.js","component/Countries.js","component/Country-List.js","component/Header.js","component/Footer.js","api/covid.js","component/News.js","component/Apps.js","App.js","index.js"],"names":["Cards","covidData","this","props","cases","total","className","active","today","recover","fatal","React","Component","Country","onCountrySelect","e","countrySelected","onClick","country","countryName","isVisible","CountryList","countrySelect","setState","isBoxVisible","state","statistics","countryList","map","key","selCountry","Header","checkMode","theme","type","name","onChange","target","checked","Footer","href","src","alt","width","height","axios","create","baseURL","News","feed","urlToImage","url","title","author","Apps","articles","darkTheme","showLoader","componentDidMount","a","getGlobalStats","Axios","get","currentCountryIp","updateStats","data","country_name","covid","countries","currentCountry","filter","res","currentCountryData","countryData","finalCountryList","countryStats","countryStatsData","recovered","deaths","todayCases","getNews","then","slice","error","console","log","stats","caseData","changeTheme","newsFeed","length","App","ReactDom","render","document","querySelector"],"mappings":"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","file":"static/js/main.f794d7cf.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nclass Cards extends React.Component {\r\n\r\n    render () {\r\n        const covidData = this.props.cases;\r\n\r\n        if(covidData.total == \"\") {\r\n            return null\r\n        }\r\n        return (\r\n            <div className=\"ui two statistics\">\r\n                <div className=\"ui brown statistic\">\r\n                    <div className=\"value\">\r\n                    {covidData.active}\r\n                    </div>\r\n                    <div className=\"label\">\r\n                    Active Cases\r\n                    </div>\r\n                </div>\r\n                <div className=\"ui yellow statistic\">\r\n                    <div className=\"value\">\r\n                    {covidData.today !== '' || covidData.today === 0 ? covidData.today : 'NA'}\r\n                    </div>\r\n                    <div className=\"label\">\r\n                    Cases Today\r\n                    </div>\r\n                </div>\r\n                <div className=\"ui green statistic\">\r\n                    <div className=\"value\">\r\n                    {covidData.recover}\r\n                    </div>\r\n                    <div className=\"label\">\r\n                    Recovered\r\n                    </div>\r\n                </div>\r\n                <div className=\"ui red statistic\">\r\n                    <div className=\"value\">\r\n                    {covidData.fatal}\r\n                    </div>\r\n                    <div className=\"label\">\r\n                    Fatal\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default Cards;","import React from 'react';\r\n\r\n\r\nclass Country extends React.Component {\r\n    render() {\r\n    return (\r\n        <div className=\"item\" onClick={(e) => this.onCountrySelect({country: this.props.countryName.country, isVisible: false})}>\r\n            <div className=\"right floated content\">\r\n                <div className=\"total-count\">{this.props.countryName.total}</div>\r\n            </div>\r\n            <div className=\"content\">\r\n            {this.props.countryName.country}\r\n            </div>\r\n        </div>\r\n    );\r\n    }\r\n\r\n    onCountrySelect = (e) => {\r\n        this.props.countrySelected(e);\r\n    };\r\n}\r\n\r\nexport default Country;","import React, { Fragment } from 'react';\r\nimport Country from './Countries'\r\n\r\nclass CountryList extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {isBoxVisible: false, total: props.statistics.total}\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state){\r\n            return {\r\n              total: props.statistics.total\r\n            };\r\n    }\r\n\r\n    render() {\r\n        const countryList = this.props.statistics.countryList.map(country => {\r\n            if(country) \r\n            return (\r\n                <div className=\"item\" key={country.country}>\r\n                    <Country countrySelected={this.onCountrySelect} countryName={country}></Country>\r\n                </div>\r\n            );\r\n        });\r\n        return (\r\n            <Fragment>\r\n                <div className=\"ui message\" onClick={() => this.setState({isBoxVisible: true})}>\r\n                    <div className=\"header\">\r\n                        {!this.props.statistics.selCountry ? 'Global Status' : this.props.statistics.selCountry}\r\n                    </div>\r\n                    <div className=\"total-count-button\">\r\n                        <span className=\"count\">{this.state.total}</span>\r\n                        <i>></i>\r\n                    </div>\r\n                </div>\r\n                <div className={`ui middle aligned divided list countries ${this.state.isBoxVisible ? '' : 'hidden'}`}>\r\n                    <div className=\"item\">\r\n                        <div className=\"right floated content\">\r\n                            <div className=\"total-count close\" onClick={() => this.setState({isBoxVisible: false})}>x</div>\r\n                        </div>\r\n                        <div className=\"content\">\r\n                            Select a region\r\n                        </div>\r\n                    </div>\r\n                    {countryList}\r\n                </div>\r\n            </Fragment>\r\n        );\r\n    }\r\n\r\n    onCountrySelect = (e) => {\r\n        this.props.countrySelect(e.country);\r\n        this.setState({isBoxVisible: e.isVisible});\r\n    };\r\n}\r\n\r\nexport default CountryList;","import React from 'react';\r\nimport { render } from '@testing-library/react';\r\n\r\n\r\nclass Header extends React.Component {\r\n\r\n    checkMode = (e) => {\r\n        this.props.theme(e);\r\n    };\r\n\r\n    render() {\r\n    return (\r\n        <header>\r\n            <h2 className=\"ui header\">\r\n                Covid-19 Tracker\r\n            </h2>\r\n            <div className=\"ui toggle checkbox\">\r\n                <input type=\"checkbox\" name=\"public\" onChange={(e) => this.checkMode(e.target.checked)}/>\r\n                <label>Dark Mode</label>\r\n            </div>\r\n        </header>\r\n    );\r\n    }\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nconst Footer = () => {\r\n    return(\r\n        <div className=\"footer\">\r\n            <p>A project by Prannoy Arora</p>\r\n            <div className=\"accounts\">\r\n                <a href=\"https://in.linkedin.com/in/prannoy-arora-01082846\"><img src=\"http://icons.iconarchive.com/icons/limav/flat-gradient-social/16/Linkedin-icon.png\" alt=\"linkedin\" width=\"16\" height=\"16\"/></a>\r\n                <a href=\"https://github.com/noyarora\"><img src=\"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png\" alt=\"github\" width=\"16\" height=\"16\"/></a>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Footer;","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n    baseURL: 'https://coronavirus-19-api.herokuapp.com',\r\n});\r\n\r\n","import React from 'react';\r\n\r\nclass News extends React.Component{\r\n    render() {\r\n    return (\r\n            <div className=\"item\">\r\n                <div className=\"image\">\r\n                    <img src={this.props.feed.urlToImage} />\r\n                </div>\r\n                <div className=\"content\">\r\n                    <a href={this.props.feed.url} target=\"_blank\" className=\"header\">{this.props.feed.title}</a>\r\n                    <div className=\"extra\">\r\n                        {this.props.feed.author}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    );\r\n    }\r\n};\r\n\r\nexport default News;","import React, { Fragment } from 'react';\r\nimport Cards from './Cards';\r\nimport CountryList from './Country-List';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\n\r\nimport '../style.css';\r\n\r\nimport covid from '../api/covid';\r\nimport Axios from 'axios';\r\nimport News from './News';\r\n\r\nclass Apps extends React.Component{\r\n\r\n    state = {\r\n        total: '', \r\n        active: '', \r\n        recover: '', \r\n        fatal: '', \r\n        today: '', \r\n        countryList : [], \r\n        selCountry: '', \r\n        articles: [],\r\n        darkTheme: false,\r\n        showLoader: true\r\n    };\r\n\r\n    componentDidMount = async () => {\r\n        this.getGlobalStats();\r\n        //get coumtries\r\n\r\n        const currentCountryIp =  await Axios.get('https://ipapi.co/json/');\r\n        this.updateStats(currentCountryIp.data.country_name);\r\n        let countries = await covid.get('/countries');\r\n        const currentCountry = countries.data.filter(res => res.country === 'India');\r\n        const currentCountryData = [{country: currentCountry[0].country, total: currentCountry[0].cases}];\r\n        const countryData = countries.data.map(res => {\r\n            if(res.country !== 'India') {\r\n                return {country: res.country, total: res.cases}\r\n            }\r\n        });\r\n        const finalCountryList = [...currentCountryData, ...countryData]\r\n\r\n        this.setState({countryList: finalCountryList})\r\n    }\r\n\r\n    render() {\r\n        let newsFeed = [];\r\n        if(this.state.articles.length > 0) {\r\n        newsFeed = this.state.articles.map(res => {\r\n            return (\r\n                <div key={res.title} className=\"ui unstackable items\">\r\n                    <News feed={res}></News>\r\n                </div>\r\n            );\r\n        });\r\n        }\r\n\r\n\r\n        return (\r\n            <Fragment>\r\n                <div className={`ui raised very padded text container ${this.state.darkTheme ? 'darkMode' : ''}`}>\r\n                    <Header theme={this.changeTheme}></Header>\r\n                    <CountryList countrySelect={this.updateStats} statistics={this.state}></CountryList>\r\n                    <div className=\"stats\">\r\n                        <Cards cases={this.state}></Cards>\r\n                    </div>\r\n                    <button className=\"mini ui button basic fluid\" onClick={this.getGlobalStats}>\r\n                        Show Global Statistics\r\n                    </button>\r\n                    <h4 className=\"ui horizontal divider header\">\r\n                        News\r\n                    </h4>\r\n                    {newsFeed.length > 0 ? newsFeed : 'No news found for selected region.'} \r\n                    <div className=\"ui fitted divider\"></div>  \r\n                    <Footer></Footer>          \r\n                </div>\r\n                <div className={`loader ${this.state.showLoader ? '' : 'hideLoader'}`}>\r\n                    <div className=\"ui active centered inline loader\"></div>\r\n                </div>\r\n            </Fragment>\r\n        );\r\n    }\r\n\r\n    updateStats = async (e) => {\r\n        const countryStats = await covid.get('/countries/' + e);\r\n        const countryStatsData = countryStats.data;\r\n        this.setState({total: countryStatsData.cases, active: (countryStatsData.cases - countryStatsData.recovered - countryStatsData.deaths), recover: countryStatsData.recovered, fatal: countryStatsData.deaths, today: countryStatsData.todayCases, selCountry: e, showLoader: true});\r\n\r\n        this.getNews();\r\n    };\r\n\r\n    getNews = async () => {\r\n        await Axios.get('https://cors-anywhere.herokuapp.com/http://newsapi.org/v2/top-headlines?' +\r\n        'q=coronavirus ' + this.state.selCountry + '&' +\r\n        'apiKey=048c336a18af41a4af76ba53e7a15efb').then(res => {\r\n            const news = res;\r\n            const articles = news.data.articles.slice(0, 5);\r\n            this.setState({articles: articles});\r\n        }, error => console.log(error));\r\n\r\n        this.setState({showLoader: false});\r\n\r\n    };\r\n\r\n    getGlobalStats = async () => {\r\n        const stats = await covid.get('/all');\r\n        const caseData = stats.data;\r\n        this.setState({total: caseData.cases, active: (caseData.cases - caseData.recovered - caseData.deaths), recover: caseData.recovered, fatal: caseData.deaths, today: '', selCountry: '', showLoader: true});\r\n    \r\n        this.getNews();\r\n    };\r\n\r\n    changeTheme = (e) => {\r\n        this.setState({darkTheme: e});\r\n    };\r\n};\r\n\r\nexport default Apps;","import React from 'react';\r\nimport Apps from './component/Apps';\r\n\r\n\r\n\r\nconst App = () => {\r\n    return <Apps></Apps>\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport App from './App'\r\n\r\nReactDom.render(\r\n    <App />,\r\n    document.querySelector('#root')\r\n);\r\n"],"sourceRoot":""}